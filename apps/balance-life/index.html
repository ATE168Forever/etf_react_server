<!doctype html>
<html lang="zh-Hant" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- DNS Prefetch & Preconnect for Performance -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />

    <!-- Primary Meta Tags -->
    <title>Balance Life｜資產配置與平衡追蹤</title>
    <meta
      name="description"
      content="Balance Life（ETF Life）提供資產配置分析、投資組合平衡追蹤與再平衡建議，幫你打造穩健的投資組合。"
    />
    <meta
      name="keywords"
      content="ETF,資產配置,投資組合,再平衡,股債平衡,資產分配,投資策略,風險控制"
    />
    <meta name="application-name" content="Balance Life · ETF Life" />
    <meta name="author" content="ETF Life" />
    <meta name="copyright" content="ETF Life" />

    <!-- Security -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net blob:; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data: https: blob:; font-src 'self' data: https://cdn.jsdelivr.net; connect-src 'self' https: http://localhost:* http://127.0.0.1:* ws://localhost:* wss://*; frame-src 'self'; worker-src 'self' blob:;"
    />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/balance-life.svg" />
    <link id="app-favicon" rel="icon" type="image/svg+xml" href="/balance-life.svg" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512x512.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

    <!-- Theme Color (supports light/dark modes) -->
    <meta name="theme-color" content="#0b1021" media="(prefers-color-scheme: dark)" />
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />

    <!-- Canonical & Alternates -->
    <link rel="canonical" href="https://etflife.org/balance-life" />
    <link rel="alternate" href="https://etflife.org/balance-life" hreflang="zh-Hant" />
    <link rel="alternate" href="https://etflife.org/balance-life" hreflang="en" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ETF Life" />
    <meta property="og:title" content="Balance Life｜資產配置與平衡追蹤" />
    <meta
      property="og:description"
      content="投資組合平衡追蹤、資產配置分析與再平衡建議，打造穩健的投資組合。"
    />
    <meta property="og:url" content="https://etflife.org/balance-life" />
    <meta property="og:image" content="https://etflife.org/balance-life-og.png" />
    <meta property="og:image:alt" content="Balance Life - 資產配置與平衡追蹤工具" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:locale" content="zh_TW" />
    <meta property="og:locale:alternate" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Balance Life｜資產配置與平衡追蹤" />
    <meta
      name="twitter:description"
      content="ETF Life 的 Balance Life：投資組合平衡追蹤、資產配置分析與再平衡建議。"
    />
    <meta name="twitter:image" content="https://etflife.org/balance-life-og.png" />

    <!-- Stylesheets -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Balance Life",
        "alternateName": "ETF Life - Balance Life",
        "url": "https://etflife.org/balance-life",
        "description": "Balance Life（ETF Life）提供資產配置分析、投資組合平衡追蹤與再平衡建議，幫你打造穩健的投資組合。",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "inLanguage": ["zh-Hant", "en"],
        "image": "https://etflife.org/balance-life-og.png",
        "screenshot": "https://etflife.org/balance-life-screenshot.png",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "TWD",
          "availability": "https://schema.org/InStock"
        },
        "publisher": {
          "@type": "Organization",
          "name": "ETF Life",
          "url": "https://etflife.org/",
          "logo": {
            "@type": "ImageObject",
            "url": "https://etflife.org/logo.png"
          }
        },
        "author": {
          "@type": "Organization",
          "name": "ETF Life"
        },
        "featureList": [
          "資產配置分析與視覺化",
          "投資組合平衡追蹤",
          "再平衡建議與試算"
        ],
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "ratingCount": "150",
          "bestRating": "5",
          "worstRating": "1"
        }
      }
    </script>
    <script>
      // Theme and language initialization with error handling
      try {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
          document.documentElement.setAttribute('data-theme', savedTheme);
        }
        const savedLang = localStorage.getItem('lang');
        if (savedLang) {
          document.documentElement.setAttribute('lang', savedLang === 'zh' ? 'zh-Hant' : savedLang);
        }
      } catch (error) {
        console.warn('Failed to load saved theme or language:', error);
        // Fallback to default theme and language (already set in html tag)
      }
    </script>
    <script type="module">
      import faviconUrl from '@shared/assets/balance-life.svg?url';

      const faviconEl = document.querySelector('#app-favicon');
      if (faviconEl) {
        faviconEl.href = faviconUrl;
      }
    </script>
  </head>
  <body>
    <noscript>
      <div style="padding: 2rem; text-align: center; font-family: system-ui, -apple-system, sans-serif;">
        <h1 style="color: #ef4444;">⚠️ JavaScript Required</h1>
        <p style="font-size: 1.125rem; color: #6b7280;">
          Balance Life requires JavaScript to run. Please enable JavaScript in your browser settings.
        </p>
        <p style="font-size: 1.125rem; color: #6b7280;">
          此應用程式需要啟用 JavaScript 才能運行，請在瀏覽器設定中啟用 JavaScript。
        </p>
      </div>
    </noscript>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
